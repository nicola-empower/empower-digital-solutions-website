document.addEventListener("DOMContentLoaded",()=>{const x=document.getElementById("initial-view"),o=document.getElementById("portal-view"),f=document.getElementById("form-view"),l=document.getElementById("contract-checkbox"),g=document.getElementById("progress-bar"),s=document.getElementById("completion-text"),b=document.getElementById("back-to-dashboard"),u=document.getElementById("complete-form"),y=document.getElementById("restart-demo"),h=document.getElementById("dashboard-cards"),r={contract:'<div class="flex items-center justify-between mb-3"><h2 class="font-bold text-xl flex items-center">âœ… Contract Status</h2><span class="text-sm opacity-90">Just now</span></div><p class="text-lg font-semibold">Signed & Secured</p><p class="text-sm opacity-90 mt-1">Contract #2024-0892</p>',form:'<div class="flex items-center justify-between mb-3"><h2 class="font-bold text-xl text-[#0c4b54] flex items-center">ğŸ“ Onboarding Form</h2><span class="text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded-full">Pending</span></div><p class="text-gray-600">Ready to complete</p><p class="text-sm text-[#9686a9] mt-1 font-medium">Click to start â†’</p>',files:'<div class="flex items-center justify-between mb-3"><h2 class="font-bold text-xl text-[#0c4b54] flex items-center">ğŸ“ Project Files</h2><span class="text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full">Waiting</span></div><p class="text-gray-600">Upload area ready</p><p class="text-sm text-gray-400 mt-1">Max 100MB per file</p>',call:'<div class="flex items-center justify-between mb-3"><h2 class="font-bold text-xl text-[#0c4b54] flex items-center">ğŸ“… Kick-off Call</h2><span class="text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full">Waiting</span></div><p class="text-gray-600">Schedule when ready</p><p class="text-sm text-gray-400 mt-1">30-45 minutes</p>'};let a=1;const i=4,v=()=>{const t=a/i*100;g&&(g.style.width=`${t}%`),s&&(s.textContent=`${a} of ${i} steps completed`,a===i?(s.parentElement.classList.remove("bg-green-50","text-green-700"),s.parentElement.classList.add("bg-blue-100","text-blue-700"),s.textContent="Onboarding Complete! ğŸ‰"):(s.parentElement.classList.add("bg-green-50","text-green-700"),s.parentElement.classList.remove("bg-blue-100","text-blue-700")))},c=t=>[x,o,f].forEach(n=>{n&&n.classList.toggle("view-hidden",n!==t)}),e=(t,n,k)=>{const p=document.getElementById(t);p&&(p.innerHTML=n,p.className=`completion-item p-6 rounded-xl ${k}`)},d=()=>{a=1,l&&(l.checked=!1),e("contract-status","","bg-gray-50 dark:bg-slate-700"),e("form-status",r.form,"bg-gray-50 dark:bg-slate-700 cursor-pointer hover:bg-gray-100 dark:hover:bg-slate-600"),e("files-status",r.files,"bg-gray-50 dark:bg-slate-700"),e("call-status",r.call,"bg-gray-50 dark:bg-slate-700"),v(),c(x)},m=t=>{if(!(a>=t))switch(a=t,v(),t){case 2:e("form-status",'<div class="flex items-center justify-between mb-3"><h2 class="font-bold text-xl flex items-center">âœ… Onboarding Form</h2><span class="text-sm opacity-90">Just now</span></div><p class="text-lg font-semibold">Form Completed</p><p class="text-sm opacity-90 mt-1">All details captured</p>',"completed"),setTimeout(()=>m(3),1500);break;case 3:e("files-status",'<div class="flex items-center justify-between mb-3"><h2 class="font-bold text-xl flex items-center">âœ… Project Files</h2><span class="text-sm opacity-90">A moment ago</span></div><p class="text-lg font-semibold">3 Files Uploaded</p><p class="text-sm opacity-90 mt-1">Logo, brand guide, content</p>',"completed"),e("call-status",'<div class="flex items-center justify-between mb-3"><h2 class="font-bold text-xl text-[#0c4b54] flex items-center">ğŸ“… Book Kick-off Call</h2></div><p class="text-gray-600">Final step!</p><p class="text-sm text-[#9686a9] mt-1 font-medium">Click to book â†’</p>',"bg-gray-50 dark:bg-slate-700 cursor-pointer hover:bg-gray-100 dark:hover:bg-slate-600 interactive-step");break;case 4:e("call-status",'<div class="flex items-center justify-between mb-3"><h2 class="font-bold text-xl flex items-center">âœ… Kick-off Call</h2><span class="text-sm opacity-90">Just now</span></div><p class="text-lg font-semibold">Booked for 5th Aug, 10am</p><p class="text-sm opacity-90 mt-1">Check your calendar!</p>',"completed");break}};l&&l.addEventListener("change",()=>{l.checked&&setTimeout(()=>{d(),e("contract-status",r.contract,"completed"),c(o)},300)}),h&&h.addEventListener("click",t=>{t.target.closest("#form-status:not(.completed)")&&c(f),t.target.closest("#call-status.interactive-step")&&m(4)}),b&&b.addEventListener("click",()=>c(o)),u&&u.addEventListener("click",()=>{m(2),c(o)}),y&&y.addEventListener("click",d),d()});
