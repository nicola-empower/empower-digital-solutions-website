import{s as a}from"./supabase.CJZAYlQe.js";const{data:{session:t}}=await a.auth.getSession();t||(window.location.href="/portal/signup");const o=document.getElementById("onboarding-form"),e=document.getElementById("error-msg");o&&o.addEventListener("submit",async s=>{s.preventDefault();const m=document.getElementById("full_name").value,l=document.getElementById("company_name").value,r=document.getElementById("phone").value,d=document.getElementById("address").value,i=document.getElementById("legal_requirements").value,{error:n}=await a.from("profiles").upsert({id:t?.user.id,email:t?.user.email,full_name:m,company_name:l,phone:r,address:d,legal_requirements:i});n?e&&(e.textContent=n.message,e.classList.remove("hidden")):window.location.href="/portal/dashboard"});
